{% extends "base.html" %}

{% load i18n %}
{% load account socialaccount %}

{% block head_title %}{% trans "Sign In" %}{% endblock %}

{% block content %}

<main class="login-main">
<!-- Breadcrumb Navigation -->
<nav aria-label="Breadcrumb" class="container mt-3">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'home:home' %}" class="orange-link">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Sign In</li>
    </ol>
</nav>

<div class="container">
    <div class="row">
        <div class="col-md-8 mt-3 offset-md-2">
            <!-- Login form section with semantic structure -->
            <section aria-labelledby="login-heading">
                <div class="card">
                    <div class="card-body">
                        <h1 id="login-heading">{% trans "Sign In" %}</h1>

                        <p class="card-text">{% blocktrans %}Welcome back to the The Gaming Verdict. To leave a comment or like a post, please log in. If
                            you
                            have not created an account yet, then <a class="orange-link" href="{{ signup_url }}">sign up</a>
                            first.{% endblocktrans %}</p>

                        <form class="login card-text" method="POST" action="{% url 'account_login' %}">
                            <fieldset>
                                <legend class="visually-hidden">Login credentials</legend>
                                {% csrf_token %}
                                
                                {% if form.errors %}
                                    <div class="alert alert-danger" role="alert" aria-live="polite" aria-atomic="true">
                                        <strong>Error:</strong> Please correct the errors below.
                                        <ul class="mb-0 mt-2">
                                            {% for field, errors in form.errors.items %}
                                                {% for error in errors %}
                                                    <li>{% if field != '__all__' %}{{ field|title }}: {% endif %}{{ error }}</li>
                                                {% endfor %}
                                            {% endfor %}
                                        </ul>
                                    </div>
                                {% endif %}
                                
                                <p>
                                    <label for="{{ form.login.id_for_label }}">{{ form.login.label }}:</label>
                                    {{ form.login }}
                                </p>
                                
                                <p>
                                    <label for="{{ form.password.id_for_label }}">{{ form.password.label }}:</label>
                                    <input type="password" name="password" id="{{ form.password.id_for_label }}" placeholder="Password" autocomplete="current-password" required>
                                    {% if form.password.errors %}
                                        <div class="text-danger small">{{ form.password.errors }}</div>
                                    {% endif %}
                                </p>
                                
                                {% if form.remember %}
                                <p>
                                    <label for="{{ form.remember.id_for_label }}">{{ form.remember.label }}</label>
                                    {{ form.remember }}
                                </p>
                                {% endif %}
                            </fieldset>
                            
                            {% if redirect_field_value %}
                            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                            {% endif %}
                            <button class="btn btn-outline-success right" type="submit">{% trans "Sign In" %}</button>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
</main>
{% endblock %}